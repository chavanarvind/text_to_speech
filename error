from azureml.core import Workspace
from azureml.core.authentication import ServicePrincipalAuthentication
import sys

# Replace these with your actual values
SUBSCRIPTION_ID = "<your-subscription-id>"
RESOURCE_GROUP = "<your-resource-group>"
WORKSPACE_NAME = "<your-workspace-name>"

def get_workspace(use_sp_auth=False, args=None):
    if use_sp_auth and args:
        print("Using Service Principal Authentication")
        tenant_id = args[1]
        client_id = args[2]
        client_secret = args[3]

        sp_auth = ServicePrincipalAuthentication(
            tenant_id=tenant_id,
            service_principal_id=client_id,
            service_principal_password=client_secret
        )
        return Workspace(
            subscription_id=SUBSCRIPTION_ID,
            resource_group=RESOURCE_GROUP,
            workspace_name=WORKSPACE_NAME,
            auth=sp_auth
        )
    else:
        print("Using default local auth")
        return Workspace(
            subscription_id=SUBSCRIPTION_ID,
            resource_group=RESOURCE_GROUP,
            workspace_name=WORKSPACE_NAME
        )



replace 
if len(sys.argv) > 1:
    ws = workspace_from_cmd(sys.argv)
    aml_config_file = 'dev_config.json'
else:
    aml_config_file = 'dev_config.json'
    ws = workspace_from_config(path='.azureml/' + aml_config_file)
with

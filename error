# === Set headers ===
$headers = @{
    "Ocp-Apim-Subscription-Key" = "BBvpAQdmiBQWNukOTc5F2tIb5Ln7TuubMiQGbbkSSO2GJDR6ZK09JQQJ99AKACYeBjFXJ3w3AAAYACOG1LLR"
    "Operation-Id" = "gradio-test-id-001"
    "Content-Type" = "application/json"
}

# === Set request body ===
$body = @{
    displayName = "Test video translation"
    description = "Test using public sample video"
    input = @{
        sourceLocale = "es-ES"
        targetLocale = "en-US"
        voiceKind = "PlatformVoice"
        speakerCount = 1
        subtitleMaxCharCountPerSegment = 50
        exportSubtitleInVideo = $false
        enableLipSync = $false
        videoFileUrl = "https://speechstudioprodpublicsa.blob.core.windows.net/ttsvoice/VideoTranslation/PublicDoc/SampleData/es-ES-TryOutOriginal.mp4"
    }
} | ConvertTo-Json -Depth 5

# === Send request ===
Invoke-RestMethod -Method Put `
  -Uri "https://eastus.api.cognitive.microsoft.com/videotranslation/translations/gradio-test-id-001?api-version=2024-05-20" `
  -Headers $headers `
  -Body $body

from azureml.core import Workspace, Environment

# Load your workspace config
ws = Workspace.from_config(path=".azureml/dev_config.json")

# Load and modify existing environment
env = Environment.get(workspace=ws, name="Bom_X_Evaluator")
env.python.conda_dependencies.add_pip_package("lightgbm")

# Optionally rename the environment (only if you want versioning)
# env.name = "Bom_X_Evaluator_v2"

# Register the updated environment
env.register(workspace=ws)

print(f"âœ… Updated environment: {env.name}")

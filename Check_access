unmatched['verification_unmatched'] = (
    (unmatched[ERP_PART_ID].isna() & unmatched[TRU_SPEC_ID].notna()) |
    (unmatched[ERP_PART_ID].notna() & unmatched[TRU_SPEC_ID].isna()) |
    (unmatched['Matching Reason'] == 'Off Spec Non Match')  # âœ… Allow downgraded rows
)

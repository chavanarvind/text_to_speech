def transcribe_and_diarize(audio_path):
    segments, info = model.transcribe(audio_path, beam_size=5, word_timestamps=True)
    diarized_text = []
    for seg in segments:
        diarized_text.append((seg.start, seg.end, seg.text))
    return diarized_text, info.language

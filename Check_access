import requests

# Replace these with your actual Azure Translator values
TRANSLATOR_KEY = "<your-translator-subscription-key>"
TRANSLATOR_REGION = "<your-region>"  # e.g., "eastus"
TRANSLATOR_ENDPOINT = f"https://{TRANSLATOR_REGION}.api.cognitive.microsofttranslator.com"
API_VERSION = "3.0"

def translate_text_azure(text, target_lang="hi"):
    url = f"{TRANSLATOR_ENDPOINT}/translate?api-version={API_VERSION}&to={target_lang}"
    headers = {
        'Ocp-Apim-Subscription-Key': TRANSLATOR_KEY,
        'Ocp-Apim-Subscription-Region': TRANSLATOR_REGION,
        'Content-type': 'application/json'
    }
    body = [{'Text': text}]
    
    response = requests.post(url, headers=headers, json=body)
    if response.status_code != 200:
        raise Exception(f"Azure Translation failed: {response.text}")
    
    result = response.json()
    return result[0]['translations'][0]['text']

# ðŸ”¹ TEST INPUT
text_to_translate = "Hello, how are you?"
translated = translate_text_azure(text_to_translate, target_lang="hi")
print("Original:", text_to_translate)
print("Translated:", translated)
